!function(e){"use strict";e.run(["pannableService",function(e){function n(n){if(e.cancelSubsequentClick)return n.preventDefault(),e.cancelSubsequentClick=!1,!1}var o=document.body||document.documentElement;o.addEventListener("click",n,!0)}]),e.service("pannableService",function(){this.cancelSubsequentClick=!1}),e.directive("pannable",["pannableService",function(e){function n(n,o,t){function c(e){e?a():u()}function a(){o.on("mouseenter",l),o.on("touchstart",r)}function u(){o.css({cursor:""}),o.off("mouseenter",l),o.off("mousedown",f),o.off("touchend touchcancel",i)}function r(){C=!0,o.on("touchend touchcancel",i)}function i(){C=!1,o.off("touchend touchcancel",i)}function l(e){C||(v=!0,h=!0,o.prop("offsetWidth")>=o.prop("scrollWidth")&&(v=!1),o.prop("offsetHeight")>=o.prop("scrollHeight")&&(h=!1),h||v?(o.css({cursor:x?T:A}),o.on("mousedown",f),o.on("mouseleave",s)):o.css({cursor:""}))}function s(e){o.off("mousedown",f)}function f(e){C||1!=e.which&&2!=e.which||(q.x=q.y=0,Y&&!n.$eval(Y,{$event:e,$target:angular.element(e.target)})||(g=setTimeout(m,y),$.addClass("no-select"),o.css({cursor:T}),x=!0,k.x=e.pageX,k.y=e.pageY,b=window.requestAnimationFrame(d),X.on("mouseup",m).on("mousemove",p)))}function m(e){$.removeClass("no-select"),o.css({cursor:A}),x=!1,X.off("mouseup",m).off("mousemove",p),window.cancelAnimationFrame(b)}function p(n){x&&(S.x+=k.x-n.pageX,S.y+=k.y-n.pageY,q.x+=k.x-n.pageX,q.y+=k.y-n.pageY,k.x=n.pageX,k.y=n.pageY,g&&(Math.abs(q.x)>w||Math.abs(q.y)>w)&&(clearTimeout(g),g=void 0,e.cancelSubsequentClick=!0))}function d(){x&&(h&&o.prop("scrollTop",o.prop("scrollTop")+S.y),v&&o.prop("scrollLeft",o.prop("scrollLeft")+S.x),S.x=0,S.y=0,b=window.requestAnimationFrame(d))}var g,b,h=!1,v=!1,y=300,w=10,x=!1,k={x:0,y:0},S={x:0,y:0},q={x:0,y:0},C=!1,A="all-scroll",T="all-scroll",X=angular.element(document),Y=t.pannableValidate,$=angular.element(document.body||document.documentElement);n.$watch(t.pannable,c),/firefox/i.test(navigator.userAgent)?(A="-moz-grab",T="-moz-grabbing"):/chrome/i.test(navigator.userAgent)&&(A="-webkit-grab",T="-webkit-grabbing")}return{link:n}}])}(angular.module("ngPannable",[]));
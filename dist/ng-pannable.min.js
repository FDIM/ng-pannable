!function(e){"use strict";e.run(["pannableService",function(e){function n(n){return e.cancelSubsequentClick?(n.preventDefault(),e.cancelSubsequentClick=!1,!1):void 0}var o=document.body||document.documentElement;o.addEventListener("click",n,!0)}]),e.service("pannableService",function(){this.cancelSubsequentClick=!1}),e.directive("pannable",["pannableService",function(e){function n(n,o,t){function c(e){n.$eval(e)!==!1?a():u()}function a(){o.on("mouseenter",i),o.on("touchstart",r)}function u(){o.off("mouseenter",i),o.off("mousedown",f),o.off("touchend touchcancel",l)}function r(){C=!0,o.on("touchend touchcancel",l)}function l(){C=!1,o.off("touchend touchcancel",l)}function i(e){C||(h=!0,v=!0,o.prop("offsetWidth")>=o.prop("scrollWidth")&&(h=!1),o.prop("offsetHeight")>=o.prop("scrollHeight")&&(v=!1),v||h?(o.css({cursor:w?$:A}),o.on("mousedown",f),o.on("mouseleave",s)):o.css({cursor:""}))}function s(e){o.off("mousedown",f)}function f(e){C||1!=e.which&&2!=e.which||(q.x=q.y=0,X&&!n.$eval(X,{$event:e,$target:angular.element(e.target)})||(g=setTimeout(m,y),Y.addClass("no-select"),o.css({cursor:$}),w=!0,k.x=e.pageX,k.y=e.pageY,b=window.requestAnimationFrame(d),T.on("mouseup",m).on("mousemove",p)))}function m(e){Y.removeClass("no-select"),o.css({cursor:A}),w=!1,T.off("mouseup",m).off("mousemove",p),window.cancelAnimationFrame(b)}function p(n){w&&(S.x+=k.x-n.pageX,S.y+=k.y-n.pageY,q.x+=k.x-n.pageX,q.y+=k.y-n.pageY,k.x=n.pageX,k.y=n.pageY,g&&(Math.abs(q.x)>x||Math.abs(q.y)>x)&&(clearTimeout(g),g=void 0,e.cancelSubsequentClick=!0))}function d(){w&&(v&&o.prop("scrollTop",o.prop("scrollTop")+S.y),h&&o.prop("scrollLeft",o.prop("scrollLeft")+S.x),S.x=0,S.y=0,b=window.requestAnimationFrame(d))}var g,b,v=!1,h=!1,y=300,x=10,w=!1,k={x:0,y:0},S={x:0,y:0},q={x:0,y:0},C=!1,A="all-scroll",$="all-scroll",T=angular.element(document),X=t.pannableValidate,Y=angular.element(document.body||document.documentElement);t.$observe(t.pannable,c),c(t.pannable),/firefox/i.test(navigator.userAgent)?(A="-moz-grab",$="-moz-grabbing"):/chrome/i.test(navigator.userAgent)&&(A="-webkit-grab",$="-webkit-grabbing")}return{link:n}}])}(angular.module("ngPannable",[]));
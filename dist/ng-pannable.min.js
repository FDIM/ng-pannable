"use strict";!function(e){e.directive("pannable",[function(){function e(e,o,n){function t(o){e.$eval(o)!==!1?a():c()}function a(){o.on("mouseenter",s),o.on("touchstart",r)}function c(){o.off("mouseenter",s),o.off("mousedown",i),o.off("touchend touchcancel",u)}function r(){T=!0,o.on("touchend touchcancel",u)}function u(){T=!1,o.off("touchend touchcancel",u)}function s(e){T||(b=!0,h=!0,o.prop("offsetWidth")>=o.prop("scrollWidth")&&(b=!1),o.prop("offsetHeight")>=o.prop("scrollHeight")&&(h=!1),h||b?(o.css({cursor:v?Y:X}),o.on("mousedown",i),o.on("mouseleave",l)):o.css({cursor:""}))}function l(e){o.off("mousedown",i)}function i(n){T||1!=n.which&&2!=n.which||($.x=$.y=0,F&&!e.$eval(F,{$event:n,$target:angular.element(n.target)})||(g=setTimeout(f,x),q.addClass("no-select"),o.css({cursor:Y}),v=!0,w.x=n.pageX,w.y=n.pageY,d=window.requestAnimationFrame(p),k.on("mouseup",f).on("mousemove",m)))}function f(e){q.removeClass("no-select"),o.css({cursor:X}),v=!1,k.off("mouseup",f).off("mousemove",m),window.cancelAnimationFrame(d)}function m(e){v&&(A.x+=w.x-e.pageX,A.y+=w.y-e.pageY,$.x+=w.x-e.pageX,$.y+=w.y-e.pageY,w.x=e.pageX,w.y=e.pageY,g&&(Math.abs($.x)>y||Math.abs($.y)>y)&&(clearTimeout(g),g=void 0))}function p(){v&&(h&&o.prop("scrollTop",o.prop("scrollTop")+A.y),b&&o.prop("scrollLeft",o.prop("scrollLeft")+A.x),A.x=0,A.y=0,d=window.requestAnimationFrame(p))}var g,d,h=!1,b=!1,x=300,y=10,v=!1,w={x:0,y:0},A={x:0,y:0},$={x:0,y:0},T=!1,X="all-scroll",Y="all-scroll",k=angular.element(document),F=n.pannableValidate,q=angular.element(document.body||document.documentElement);n.$observe(n.pannable,t),t(n.pannable),/firefox/i.test(navigator.userAgent)?(X="-moz-grab",Y="-moz-grabbing"):/chrome/i.test(navigator.userAgent)&&(X="-webkit-grab",Y="-webkit-grabbing")}return{link:e}}])}(angular.module("ngPannable",[]));